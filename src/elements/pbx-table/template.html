<div class="tablet">
    <div class="tablet_header">
        <div class="tablet_item"
             *ngFor="let item of tableInfoEx.items; let i = index"
             [ngClass]="{'fixed': item.width, 'sort': item.sort}">
            <span [ngClass]="{'sort':item.sort}" (click)="sort(item)">{{item.title}}</span>
            <div *ngIf="tableInfoEx.sort.column === item.sort" class="tablet_item_icon_wrap">
                <svg-icon [src]="'../../assets/icons/sorting_'+(tableInfoEx.sort.isDown ? 'down' : 'up') + '_16px.svg'"
                          class="tablet_item_icon sort"></svg-icon>
            </div>
        </div>
        <div class="tablet_icon edit" *ngIf="editable">
            <svg-icon src="../../assets/icons/edit_12px.svg"></svg-icon>
        </div>
        <div class="tablet_icon delete" *ngIf="deletable">
            <svg-icon src="../../assets/icons/cancel_delete_12px.svg"></svg-icon>
        </div>
    </div>
    <div class="tablet_body">
        <div class="tablet_row" *ngFor="let item of tableItems"
             [ngClass]="{'pick': multiple ? isSelected(item.id) : selected?.id === item.id}">
            <pbx-loader *ngIf="item.loading"></pbx-loader>
            <div class="tablet_content" *ngIf="!item.loading">
                <div class="tablet_item {{!!columnFormat?columnFormat[i]:''}}"
                     *ngFor="let tableItem of tableInfoEx.items;let i=index"
                     [ngClass]="{'fixed':tableItem.width}"
                     (click)="selectItem(item)">
                    {{getValueByKeyEx(item, tableItem.key)}}
                    <div class="tablet_item_circle" *ngIf="getValueByKey(item, tableItem.key) === true"></div>
                </div>
                <div class="tablet_icon edit"
                     *ngIf="editable" (click)="editItem(item, $event)">
                    <svg-icon src="../../assets/icons/edit_12px.svg"></svg-icon>
                </div>
                <div class="tablet_icon delete"
                     *ngIf="deletable" (click)="clickDeleteItem(item, $event)">
                    <svg-icon src="../../assets/icons/cancel_delete_12px.svg"></svg-icon>
                </div>
            </div>
        </div>
    </div>
</div>
<pbx-modal [modalEx]="modal" (onConfirmEx)="deleteItem()">Are you sure?</pbx-modal>
